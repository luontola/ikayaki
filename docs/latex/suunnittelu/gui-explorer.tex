\beginClass{ProjectExplorerPanel}
\classPackage{ikayaki.gui}
\classDeclaration{public class ProjectExplorerPanel}
\classExtends{ProjectComponent}
\classCreatedBy{MainViewPanel}
\classUses{MainViewPanel}
\classUses{ProjectExplorerTableModel}
\classUses{ProjectExplorerPopupMenu}
\classComment{
	Creates a history/autocomplete field (browserField) for choosing the project directory, a listing of project files in that directory (explorerTable) and in that listing a line for creating new project, which has a textbox for project name, an AF/TH ComboBox and a "Create new" button (createNewProjectButton) for actuating the creation. Also has a right-click popup menu for exporting project files.
}
\classEvent{On browserField change}{send browserField's text to RunQueue which schedules disk access and autocomplete. (This could be in a separate BrowserFieldComponent class?)}
\classEvent{On explorerTable mouse right-click}{create a ProjectExplorerPopupMenu for right-clicked project file. (This could be in ProjectExplorerTableModel class?)}
\classEvent{On createNewProjectButton click}{call Project.createXXXProject(File) with filename from newProjectField, send returned Project to MainViewPanel?, tell explorerTable to reset newProjectField and newProjectType.}
\classEvent{On browseButton click}{open a FileChooser dialog for choosing the directory.}
\classEvent{On MeasurementEvent}{hilight project whose measuring started, or unhilight one whose measuring ended.}
\classEvent{On ProjectEvent}{hilight selected project, or unhilight unselected project.}
\closeClass

\beginField{browserField}
\fieldDeclaration{private BrowserFieldComponent browserField}
\fieldComment{(need a separate class for this?)}
\closeField

\beginField{browseButton}
\fieldDeclaration{private JButton browseButton}
\closeField

\beginField{explorerTable}
\fieldDeclaration{private ProjectExplorerTableModel explorerTable}
\closeField

\beginField{newProjectField}
\fieldDeclaration{private JTextField newProject}
\closeField

\beginField{JComboBox newProjectType}
\fieldDeclaration{private JComboBox newProjectType}
\fieldValue{AF/Thellier/Thermal}
\closeField

\beginField{createNewProjectButton}
\fieldDeclaration{private JButton createNewProjectButton}
\closeField

\beginMethod{ProjectExplorerPanel(Project)}
\methodDeclaration{public ProjectExplorerPanel(Project project)}
\methodComment{
	Creates all its components, sets the last open project folder as current project folder.
}
\closeMethod

\beginMethod{doBrowse()}
\methodDeclaration{public void doBrowse()}
\methodComment{Creates a FileChooser dialog and tells explorerTable and browserField to change to directory returned by it.}
\closeMethod


\beginClass{ProjectExplorerTableModel}
\classPackage{ikayaki.gui}
\classDeclaration{public class ProjectExplorerTableModel}
\classExtends{AbstractTableModel}
\classCreatedBy{ProjectExplorerPanel}
\classUses{MainViewPanel}
\classComment{
	Creates a list of project files in directory. Handles loading selected projects and executing export choice.
}
\classEvent{On newDirectoryEvent}{updates list of project files on JTable}
\classEvent{On selectTable MouseEvent}{sets new Project active}
\closeClass

\beginField{directory}
\fieldDeclaration{private File directory}
\fieldValue{null}
\fieldComment{
	Currently opened directory
}
\closeField

\beginField{files}
\fieldDeclaration{private Vector<File> files}
\fieldValue{new Vector<File>()}
\fieldComment{
	Project files in the current directory.
}
\closeField

\beginMethod{ProjectExplorerTableModel()}
\methodDeclaration{public ProjectExplorerTableModel()}
\methodComment{
	Reads the contents of the default directory and initializes the file list.
}
\closeMethod

\beginMethod{ProjectExplorerTableModel(String)}
\methodDeclaration{public ProjectExplorerTableModel(String directory)}
\methodComment{
	Reads the contents of the given directory and initializes the file list.
}
\methodParam{directory}{path to the directory to be opened}
\closeMethod

\beginMethod{loadDirectory(String)}
\methodDeclaration{public void loadDirectory(String directory)}
\methodComment{
	Update list to show given directory.
}
\methodParam{directory}{path to the directory to be opened}
\closeMethod

\beginMethod{loadProject()}
\methodDeclaration{public void loadProject()}
\methodComment{
	Gets the selected line from the file list and sends the file to MainViewPanel.
}
\closeMethod


\beginClass{ProjectExplorerPopupMenu}
\classPackage{ikayaki.gui}
\classDeclaration{public class ProjectExplorerPopupMenu}
\classExtends{JPopupMenu}
\classCreatedBy{ProjectExplorerPanel}
\classComment{
	Shows choices to export: AF, Thellier, Thermal and executes selected
}
\classEvent{On selectItem mouseEvent}{tells selected Project to create selected file from it's self}
\closeClass

\beginMethod{ProjectExplorerTableModel()}
\methodDeclaration{public ProjectExplorerTableModel()}
\methodComment{
	Builds the menu items
}
\closeMethod
