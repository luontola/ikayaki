\beginClass{MeasurementSequencePanel}
\classComment{Allows creating, editing and removing measurement
sequences. Shows measurement data. Right-click brings popup menu for hiding columns, and saving
sequence. Left-click selects a row. Multiple rows can be selected by
ctrl-clicking or shift-clicking. Allows dragging rows to different order
if multiple rows are selected multiple rows are dragged. Has three
textfields for inserting new sequences, first field for start value,
second for step and third for stop value. Clicking Add sequence-button
appends sequence into table. Saved sequences can be loaded from dropdown menu.}
\classPackage{ikayaki.gui}
\classDeclaration{public class MeasurementSequencePanel}
\classExtends{ProjectComponent}
\classCreatedBy{MainViewPanel}
\classUses{MeasurementSequenceTableModel}
\classUses{MeasurementSequencePopupMenu}
\classEvent{On SequenceTable mouse right-click}{Create a MeasurementSequencePopupMenu.}
\classEvent{On addSequence mouseclick}{Add measurement sequence to end
of table and tell MeasurementSequenceTableModel to update itself.}
\classEvent{On sequenceSelector mouseclick}{Bring dropdown menu for
selecting premade sequence.}
\classEvent{On selecting sequence from dropdown menu}{Add measurement
sequence to table and tell MeasurementSequenceTableModel to update itself.}
\classEvent{On Project event}{Update contest of table to correspond
projects state.}
\classEvent{On Measurement event}{If measurement step is finished, add
measurement data to appropriate row and if row being measured was
selected select next row unless measurement sequence ended.}
\classEvent{On Drag event}{Tell MeasurementSequenceTableModel to update
itself to correspond new row order.}
\closeClass

\beginField{addSequence}
\fieldDeclaration{private JButton addSequence}
\closeField

\beginField{sequenceSelector}
\fieldDeclaration{private JComboBox sequenceSelector}
\closeField

\beginField{sequenceStart}
\fieldDeclaration{private JTextField sequenceStart}
\closeField

\beginField{sequenceStep}
\fieldDeclaration{private JTextField sequenceStep}
\closeField

\beginField{sequenceStop}
\fieldDeclaration{private JTextField sequenceStop}
\closeField

\beginField{sequenceTable}
\fieldDeclaration{private JTable sequenceTable}
\closeField

\beginField{tableModel}
\fieldDeclaration{private MeasurementSequenceTableModel tableModel}
\closeField

\beginMethod{MeasurementSequencePanel()}
\methodDeclaration{public MeasurementSequencePanel()}
\methodComment{Creates default MeasurementSequencePanel.}
\closeMethod

\beginMethod{MeasurementSequencePanel(Project)}
\methodDeclaration{public MeasurementSequencePanel(Project project)}
\methodComment{Creates MeasurementSequencePanel and calculates shown
data from project's measurement data. Higlights right row.}
\closeMethod

\beginMethod{addSequence()}
\methodDeclaration{private void addSequence()}
\methodComment{Adds sequence determined by textfields to end of table.}
\closeMethod

\beginMethod{setProject(Project)}
\methodDeclaration{private void setProject(Project project)}
\methodComment{Calls super.setProject(project), clears table and calculates shown
data from project's measurement data. Higlights right row.}
\closeMethod

\beginClass{MeasurementSequenceTableModel}
\classComment{Handles data in table.}
\classPackage{ikayaki.gui}
\classDeclaration{public class MeasurementSequenceTableModel}
\classExtends{AbstractTableModel}
\classCreatedBy{MeasurementSequencePanel}
\closeClass

\beginField{shownColumns}
\fieldDeclaration{private Vector<TableColumns> shownColumns}
\fieldComment{Currently shown columns. }
\closeField

\beginField{allColumns}
\fieldDeclaration{private Vector<TableColumns> allColumns}
\fieldComment{All possible columns.}
\closeField

\beginMethod{MeasurementSequenceTableModel()}
\methodDeclaration{public MeasurementSequenceTableModel()}
\methodComment{Creates SequenceTableModel}
\closeMethod

\beginMethod{showColumn(String)}
\methodDeclaration{public void showColumn(String name)}
\methodComment{Shows named column.}
\methodParam{name}{name of the column to be shown}
\closeMethod

\beginMethod{hideColumn(String)}
\methodDeclaration{public void hideColumn(String name)}
\methodComment{Hides named column.}
\methodParam{name}{name of the column to be hidden}
\closeMethod


\beginClass{MeasurementSequencePopupMenu}
\classComment{Allows selection if volume is shown in table and saving sequence.}
\classPackage{ikayaki.gui}
\classDeclaration{public class MeasurementSequencePopupMenu}
\classExtends{JPopupMenu}
\classCreatedBy{MeasurementSequencePanel}
\closeClass

\beginField{volume}
\fieldDeclaration{private JCheckBox volume}
\closeField

\beginField{nameLabel}
\fieldDeclaration{private JLabel nameLabel}
\closeField

\beginField{nameTextField}
\fieldDeclaration{private JCheckBox nameTextField}
\closeField

\beginMethod{MeasurementSequencePopupMenu()}
\methodDeclaration{public MeasurementSequencePopupMenu()}
\methodComment{Creates SequencePopupMenu.}
\closeMethod

\beginMethod{saveSequence()}
\methodDeclaration{private void saveSequence()}
\methodComment{Saves current sequence into dropdown menu.}
\closeMethod
