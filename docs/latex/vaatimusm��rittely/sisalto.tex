\section{Introduction}

This document describes client requirements and system 
requirements for a SQUID magnetometer program that will be designed and 
implemeted as a software engineering student project at University of 
Helsinki at the Computer Science Department. The client is the Department 
of Geophysics.

This document serves as a contract between client and us..

Expected readership of this document here..

\subsection{Glossary}

Technical terms here..

\section{Overview}

A brief overview of the problem domain..

\section{Use cases}

% super-makrot pre-, post- ja error conditioneille x)
\newcommand{\UcTitle}[1]{\textbf{#1}\\}
\newcommand{\UcPre}[1]{\textbf{Precondition:} #1\\}
\newcommand{\UcPost}[1]{\textbf{Postcondition:} #1\\}
\newcommand{\UcError}[1]{\textbf{Error condition:} #1\\}

Describes planned use cases for the program. Derived from user interface prototype and requiremets. All use cases are made by "the user" in program main screen, unless otherwise noted.

\subsection{Measuring}


\UcTitle{Do single step measuring without demagnetization}

Enter as next AF demagnetization step "0" or empty (default for new projects), meaning no demagnetization, and click "Single step".

\UcPre{Open AF project, sample in sample holder.}
\UcPost{Sample measured, results on screen.}
\UcError{The program shall let the user know if something went wrong.}


\UcTitle{Do single step measuring with demagnetization}

Enter as next AF demag step anything greater than zero, and click "Single step".

\UcPre{Open AF project, sample in sample holder.}
\UcPost{Sample demagnetized (possibly ruined) and measured, results on screen.}
\UcError{The program shall let the user know if something went wrong, and, should the demagnetization field not be coming down, warn user with an alarm sound :)}


\UcTitle{Do automatic demagnetization-measuring sequence}

Enter the AF sequence (see \ref{sequsecaseaf} for ways to enter it) and click "Measure".

\UcPre{Open AF project, sample in sample holder.}
\UcPost{Sample demagnetized according to entered AF sequence (possibly ruined) and measured after each demagnetization, results on screen.}
\UcError{The program shall let the user know if something went wrong, and, should the demagnetization field be uncalm, warn user with an alarm sound x)}

  \begin{itemize}

  \item Pause automatic measuring sequence

  While measure sequence is running, click "Pause".

  \UcPre{Ongoing measure sequence.}
  \UcPost{Measure sequence halts after current step is done, results on screen.}
  \UcError{Program tells if sequence can't be paused (and something has gone terribly wrong).}

  \item Abort automatic measuring sequence

  While measure sequence is running or paused, click "Stop immediately".

  \UcPre{Ongoing or paused measure sequence.}
  \UcPost{Measure sequence halts immediately [and program enters "fully manual" mode?]}
  \UcError{Program tells if sequence can't be aborted (and something has gone terribly wrong).}

  \end{itemize}


\UcTitle{Do thellier measuring}

Click "Single step". (Temperature can be entered later, as it won't affect measuring.)

\UcPre{Open TH project, sample in sample holder.}
\UcPost{Sample measured, results on screen.}
\UcError{As usual.}


\UcTitle{Do thermal measuring}

[Exactly the same as thellier?]

Click "Single step". (Temperature can be entered later, as it won't affect measuring.)

\UcPre{Open TH project, sample in sample holder.}
\UcPost{Sample measured, results on screen.}
\UcError{As usual.}


\UcTitle{Measure magnetometer ground noise}

Click "Noise" and "Calibrate".

\UcPre{None.}
\UcPost{[Sample holder at home?] Ground noise measured, results on screen.}
\UcError{As usual.}


\UcTitle{Measure empty sample holder noise}

[2005-02-21 In current UI prototype, "Noise" actually does sample holder noise measuring.]

Click "Holder noise" and "Calibrate".

\UcPre{Empty sample holder.}
\UcPost{[Sample holder at home?] Holder noise measured, results on screen.}
\UcError{As usual.}


\UcTitle{Fully manual measuring}

Click any of the manual control components [2005-02-21 at right third of UI proto].

\UcPre{None.}
\UcPost{Manual action done, result on screen.}
\UcError{As usual.}

  \begin{itemize}
  \item Move sample handler to desired position
  \item Rotate sample handler to desired angle
  \item Measure in current position
  \item Demagnetize in current position
  \end{itemize}

\subsection{File formats}

\UcTitle{Automatically save all measurement cycles in project (.dat?) file}

\UcTitle{Save standard sample measurement results in .std file}

\UcTitle{Export (thellier) results into .tdt file}

\UcTitle{Export single measurement details into .srm file}

\UcTitle{Print measurement results}

\UcTitle{Print graph sheet (with 7 different graphs; described elsewhere)}

\subsection{Functionality}

\UcTitle{Create new project (.dat file?)}

\UcTitle{Load project (.dat file?)}

\UcTitle{Append measurement results to project (.dat file?)}


\UcTitle{Panic abort operation instantly}

When any measuring action, click "Stop immediately".

\UcPre{Single step measuring or ongoing measure sequence.}
\UcPost{All demagnetization and measuring halts immediately [and program enters "fully manual" mode?]}
\UcError{Program tells if measuring can't be aborted, meaning something has gone terribly wrong.}

\subsection{AF sequences}
\label{sequsecaseaf}

{\it As in automatic demagnetization-measuring sequences, or Alternating Field sequences}

\UcTitle{Insert AF sequence with start-step-stop values}

\UcTitle{Load AF sequence}

\UcTitle{Save AF sequence}

\UcTitle{Edit AF sequence on-the-fly}

\UcTitle{Edit stored AF sequences}

\UcTitle{Rename stored AF sequence}

\UcTitle{Delete stored AF sequence}


\section{User requirements}

% Makrot vaatimuksille
\newcommand{\ReqId}[1]{\textbf{Identifier:} #1\\}
\newcommand{\ReqName}[1]{\textbf{Name:} #1\\}
\newcommand{\ReqDesc}[1]{\textbf{Description:} #1\\}
\newcommand{\ReqPrio}[1]{\textbf{Priority:} #1\\}

Goals of the software set by client..

\subsection{Functional requirements}

\ReqId{R1}
\ReqName{Basic}
\ReqDesc{Able to control Squid-magnetometer and make measurements with it.}
\ReqPrio{1}

\ReqId{R2}
\ReqName{Saving}
\ReqDesc{Measurements can be saved in .dat, .dtd and .srm files.}
\ReqPrio{1}

\ReqId{R3}
\ReqName{Auto saving}
\ReqDesc{Program will save mesurement data after every measurement step.}
\ReqPrio{1}

\ReqId{R4}
\ReqName{Loading}
\ReqDesc{Saved mesurement date can be loaded into program.}
\ReqPrio{2}

\ReqId{R5}
\ReqName{Filemanagement}
\ReqDesc{New data can be added to existing datafiles.}
\ReqPrio{2}

\ReqId{R6}
\ReqName{Numeric presentation of data}
\ReqDesc{Program shows measurement data in numbers.}
\ReqPrio{1}

\ReqId{R7}
\ReqName{Graphic presentation of data}
\ReqDesc{Program draws graphs from measurement data.}
\ReqPrio{3}

\ReqId{R8}
\ReqName{Editing}
\ReqDesc{Ability edit data afterwards.}
\ReqPrio{2}

\ReqId{R9}
\ReqName{Recalculation}
\ReqDesc{Recalculate based on changed data.}
\ReqPrio{2}

\ReqId{R10}
\ReqName{Control}
\ReqDesc{Ability to stop any action immediately.}
\ReqPrio{1}

\ReqId{R11}
\ReqName{Sequence}
\ReqDesc{Able to create measuring sequences with several different sized steps.}
\ReqPrio{2}

\ReqId{R12}
\ReqName{Sequence control}
\ReqDesc{Able to stop sequence after current step.}
\ReqPrio{2}

\ReqId{R13}
\ReqName{Hotkeys}
\ReqDesc{Possibility to create and change hotkeys.}
\ReqPrio{4}

\ReqId{R14}
\ReqName{Manual}
\ReqDesc{Able to operate magnetometer manually.}
\ReqPrio{2}

ReqId{R15}
\ReqName{Calibration}
\ReqDesc{Magnetometer must be calibrated every 24h..}
\ReqPrio{2}

ReqId{RXX}
\ReqName{}
\ReqDesc{}
\ReqPrio{}

\subsection{Quality requirements}

\ReqId{QR1}
\ReqName{Ease of use}
\ReqDesc{Program should be easy to use for first time users.}
\ReqPrio{1}

\ReqId{QR2}
\ReqName{Help pages}
\ReqDesc{Program should have good help pages.}
\ReqPrio{3}

\subsection{Environment}

\subsection{Maintainability}

\subsection{Restrictions}

Program will be used in normal PC which is connected to magnetometer. 
Taking into account rapid phase of computer evolution it is possible 
that computer in which program is used can change, accordingly the 
program should be able to be installed by outsiders. 
We need not prepare to changing of magnetometer, as new 
magnenetometer will probably have its own program.


\section{System requirements / Functions}

Specific explanation of the functions to be implemented

\subsection{System restrictions}

\section{User interface}

Overview of UI described here.. 

\subsection{Goal derived use cases}

\section{Architecture overview}

\section{External interfaces}

Interface to existing software and use of it described here..

\subsection{Hardware control protoocls}

\subsubsection{Handler control protocol}

\subsubsection{Measurement reading protocol}

\subsubsection{Demagnetizer control protocol}

\section{Validation}

Description of how to validate the set requirements.
