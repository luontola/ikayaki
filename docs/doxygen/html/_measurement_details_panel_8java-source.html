<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Squid: My Documents/squid/src/ikayaki/gui/MeasurementDetailsPanel.java Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Packages</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">My Documents</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">squid</a>&nbsp;/&nbsp;<a class="el" href="dir_000002.html">src</a>&nbsp;/&nbsp;<a class="el" href="dir_000003.html">ikayaki</a>&nbsp;/&nbsp;<a class="el" href="dir_000004.html">gui</a></div>
<h1>MeasurementDetailsPanel.java</h1><a href="_measurement_details_panel_8java.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/*</span>
00002 <span class="comment"> * MeasurementDetailsPanel.java</span>
00003 <span class="comment"> *</span>
00004 <span class="comment"> * Copyright (C) 2005 Project SQUID, http://www.cs.helsinki.fi/group/squid/</span>
00005 <span class="comment"> *</span>
00006 <span class="comment"> * This file is part of Ikayaki.</span>
00007 <span class="comment"> *</span>
00008 <span class="comment"> * Ikayaki is free software; you can redistribute it and/or modify</span>
00009 <span class="comment"> * it under the terms of the GNU General Public License as published by</span>
00010 <span class="comment"> * the Free Software Foundation; either version 2 of the License, or</span>
00011 <span class="comment"> * (at your option) any later version.</span>
00012 <span class="comment"> *</span>
00013 <span class="comment"> * Ikayaki is distributed in the hope that it will be useful,</span>
00014 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00015 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>
00016 <span class="comment"> * GNU General Public License for more details.</span>
00017 <span class="comment"> *</span>
00018 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
00019 <span class="comment"> * along with Ikayaki; if not, write to the Free Software</span>
00020 <span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA</span>
00021 <span class="comment"> */</span>
00022 
00023 <span class="keyword">package </span>ikayaki.gui;
00024 
00025 <span class="keyword">import</span> ikayaki.*;
00026 
00027 <span class="keyword">import</span> javax.swing.*;
00028 <span class="keyword">import</span> javax.swing.table.AbstractTableModel;
00029 <span class="keyword">import</span> java.awt.*;
00030 <span class="keyword">import</span> java.text.DecimalFormat;
00031 <span class="keyword">import</span> java.text.NumberFormat;
00032 
<a name="l00038"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html">00038</a> <span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html">MeasurementDetailsPanel</a> <span class="keyword">extends</span> <a class="code" href="classikayaki_1_1gui_1_1_project_component.html">ProjectComponent</a> {
00039 
<a name="l00040"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r0">00040</a>     <span class="keyword">private</span> JTable <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r0">detailsTable</a>;
<a name="l00041"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r1">00041</a>     <span class="keyword">private</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html">DetailsTableModel</a> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r1">detailsTableModel</a>;
00042 
<a name="l00043"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r2">00043</a>     <span class="keyword">private</span> JTable <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r2">errorsTable</a>;
<a name="l00044"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r3">00044</a>     <span class="keyword">private</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html">ErrorsTableModel</a> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r3">errorsTableModel</a>;
00045 
<a name="l00049"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r4">00049</a>     <span class="keyword">private</span> <a class="code" href="classikayaki_1_1_measurement_step.html">MeasurementStep</a> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r4">step</a>;
00050 
<a name="l00051"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#a0">00051</a>     <span class="keyword">public</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#a0">MeasurementDetailsPanel</a>() {
00052 
00053         <span class="comment">// build the tables</span>
00054         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r1">detailsTableModel</a> = <span class="keyword">new</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html">DetailsTableModel</a>();
00055         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r0">detailsTable</a> = <span class="keyword">new</span> JTable(<a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r1">detailsTableModel</a>);
00056         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r0">detailsTable</a>.setFocusable(<span class="keyword">false</span>);
00057         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r0">detailsTable</a>.setEnabled(<span class="keyword">false</span>);
00058         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r0">detailsTable</a>.setDefaultRenderer(<a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html">StyledWrapper</a>.class, <span class="keyword">new</span> <a class="code" href="classikayaki_1_1gui_1_1_styled_table_cell_renderer.html">StyledTableCellRenderer</a>());
00059 
00060         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r3">errorsTableModel</a> = <span class="keyword">new</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html">ErrorsTableModel</a>();
00061         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r2">errorsTable</a> = <span class="keyword">new</span> JTable(<a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r3">errorsTableModel</a>);
00062         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r2">errorsTable</a>.setFocusable(<span class="keyword">false</span>);
00063         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r2">errorsTable</a>.setEnabled(<span class="keyword">false</span>);
00064         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r2">errorsTable</a>.setDefaultRenderer(<a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html">StyledWrapper</a>.class, <span class="keyword">new</span> <a class="code" href="classikayaki_1_1gui_1_1_styled_table_cell_renderer.html">StyledTableCellRenderer</a>());
00065 
00066         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r0">detailsTable</a>.getColumnModel().getColumn(0).setPreferredWidth(50);
00067         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r0">detailsTable</a>.getColumnModel().getColumn(1).setPreferredWidth(100);
00068         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r0">detailsTable</a>.getColumnModel().getColumn(2).setPreferredWidth(100);
00069         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r0">detailsTable</a>.getColumnModel().getColumn(3).setPreferredWidth(100);
00070         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r0">detailsTable</a>.getTableHeader().setReorderingAllowed(<span class="keyword">false</span>);
00071         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r0">detailsTable</a>.getTableHeader().setResizingAllowed(<span class="keyword">false</span>);
00072 
00073         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r2">errorsTable</a>.getColumnModel().getColumn(0).setPreferredWidth(50);
00074         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r2">errorsTable</a>.getColumnModel().getColumn(1).setPreferredWidth(100);
00075         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r2">errorsTable</a>.getColumnModel().getColumn(2).setPreferredWidth(100);
00076         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r2">errorsTable</a>.getColumnModel().getColumn(3).setPreferredWidth(100);
00077         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r2">errorsTable</a>.getTableHeader().setReorderingAllowed(<span class="keyword">false</span>);
00078         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r2">errorsTable</a>.getTableHeader().setResizingAllowed(<span class="keyword">false</span>);
00079 
00080         <span class="comment">// emulate the looks of a JScrollPane</span>
00081         JPanel detailsTablePanel = <span class="keyword">new</span> JPanel(<span class="keyword">new</span> BorderLayout());
00082         detailsTablePanel.add(<a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r0">detailsTable</a>.getTableHeader(), BorderLayout.NORTH);
00083         detailsTablePanel.add(<a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r0">detailsTable</a>, BorderLayout.CENTER);
00084         detailsTablePanel.setBorder(<span class="keyword">new</span> JScrollPane().getBorder());
00085 
00086         JPanel errorsTablePanel = <span class="keyword">new</span> JPanel(<span class="keyword">new</span> BorderLayout());
00087         errorsTablePanel.add(<a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r2">errorsTable</a>.getTableHeader(), BorderLayout.NORTH);
00088         errorsTablePanel.add(<a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r2">errorsTable</a>, BorderLayout.CENTER);
00089         errorsTablePanel.setBorder(<span class="keyword">new</span> JScrollPane().getBorder());
00090 
00091         <span class="comment">// lay out the components</span>
00092         JPanel tablePanel = <span class="keyword">new</span> JPanel(<span class="keyword">new</span> BorderLayout(10, 10));
00093         tablePanel.add(detailsTablePanel, <span class="stringliteral">"Center"</span>);
00094         tablePanel.add(errorsTablePanel, <span class="stringliteral">"South"</span>);
00095 
00096         JPanel contentPane = <span class="keyword">new</span> JPanel(<span class="keyword">new</span> FlowLayout(FlowLayout.CENTER));
00097         contentPane.add(tablePanel);
00098 
00099         JScrollPane scrollPane = <span class="keyword">new</span> JScrollPane(contentPane,
00100                 JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED,
00101                 JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);
00102         scrollPane.setBorder(<a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a>);
00103         <span class="keyword">this</span>.setLayout(<span class="keyword">new</span> BorderLayout());
00104         <span class="keyword">this</span>.add(scrollPane);
00105         <span class="keyword">this</span>.setMinimumSize(<span class="keyword">new</span> Dimension(0, 225));
00106         <span class="keyword">this</span>.setPreferredSize(<span class="keyword">new</span> Dimension(400, 225));
00107     }
00108 
<a name="l00109"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#a1">00109</a>     @Override <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#a1">setProject</a>(<a class="code" href="classikayaki_1_1_project.html">Project</a> <a class="code" href="classikayaki_1_1gui_1_1_project_component.html#r0">project</a>) {
00110         super.setProject(project);
00111         <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#a3">setStep</a>(<a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a>);
00112     }
00113 
<a name="l00114"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#a2">00114</a>     <span class="keyword">public</span> <a class="code" href="classikayaki_1_1_measurement_step.html">MeasurementStep</a> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#a2">getStep</a>() {
00115         <span class="keywordflow">return</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r4">step</a>;
00116     }
00117 
<a name="l00118"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#a3">00118</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#a3">setStep</a>(<a class="code" href="classikayaki_1_1_measurement_step.html">MeasurementStep</a> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r4">step</a>) {
00119         <span class="keyword">this</span>.step = step;
00120         <span class="keyword">this</span>.detailsTableModel.setStep(step);
00121         <span class="keyword">this</span>.errorsTableModel.setStep(step);
00122     }
00123 
<a name="l00124"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#a4">00124</a>     @Override <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#a4">measurementUpdated</a>(<a class="code" href="classikayaki_1_1_measurement_event.html">MeasurementEvent</a> event) {
00125         <span class="keywordflow">if</span> (event.getStep() == <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r4">step</a>) {
00126             <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r1">detailsTableModel</a>.fireTableDataChanged();
00127             <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel.html#r3">errorsTableModel</a>.fireTableDataChanged();
00128         }
00129     }
00130 
<a name="l00136"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html">00136</a>     <span class="keyword">private</span> <span class="keyword">class </span><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html">DetailsTableModel</a> <span class="keyword">extends</span> AbstractTableModel {
00137 
<a name="l00138"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r0">00138</a>         <span class="keyword">private</span> <a class="code" href="classikayaki_1_1_measurement_step.html">MeasurementStep</a> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r0">step</a>;
00139 
<a name="l00140"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r1">00140</a>         <span class="keyword">private</span> <span class="keyword">final</span> String[] <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r1">COLUMNS</a> = <span class="keyword">new</span> String[]{<span class="stringliteral">" "</span>, <span class="stringliteral">"X"</span>, <span class="stringliteral">"Y"</span>, <span class="stringliteral">"Z"</span>};
<a name="l00141"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r2">00141</a>         <span class="keyword">private</span> <span class="keyword">final</span> <span class="keywordtype">int</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r2">HEADER_COLUMN</a> = 0;
<a name="l00142"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r3">00142</a>         <span class="keyword">private</span> <span class="keyword">final</span> <span class="keywordtype">int</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r3">X_COLUMN</a> = 1;
<a name="l00143"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r4">00143</a>         <span class="keyword">private</span> <span class="keyword">final</span> <span class="keywordtype">int</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r4">Y_COLUMN</a> = 2;
<a name="l00144"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r5">00144</a>         <span class="keyword">private</span> <span class="keyword">final</span> <span class="keywordtype">int</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r5">Z_COLUMN</a> = 3;
00145 
<a name="l00146"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r6">00146</a>         <span class="keyword">private</span> NumberFormat <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r6">numberFormat</a> = <span class="keyword">new</span> DecimalFormat(<span class="stringliteral">"0.000000E0"</span>);
00147 
<a name="l00148"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r7">00148</a>         <span class="keyword">private</span> <a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html">StyledWrapper</a> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r7">defaultWrapper</a> = <span class="keyword">new</span> <a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html">StyledWrapper</a>();
<a name="l00149"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r8">00149</a>         <span class="keyword">private</span> <a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html">StyledWrapper</a> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r8">headerWrapper</a> = <span class="keyword">new</span> <a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html">StyledWrapper</a>();
00150 
<a name="l00151"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#a0">00151</a>         <span class="keyword">public</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#a0">DetailsTableModel</a>() {
00152             <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r7">defaultWrapper</a>.<a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html#o1">horizontalAlignment</a> = SwingConstants.TRAILING;
00153             <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r8">headerWrapper</a>.<a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html#o1">horizontalAlignment</a> = SwingConstants.TRAILING;
00154             <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r8">headerWrapper</a>.<a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html#o13">font</a> = <span class="keyword">new</span> JLabel(<span class="stringliteral">""</span>).getFont().deriveFont(Font.BOLD);
00155         }
00156 
<a name="l00157"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#a1">00157</a>         <span class="keyword">public</span> <a class="code" href="classikayaki_1_1_measurement_step.html">MeasurementStep</a> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#a1">getStep</a>() {
00158             <span class="keywordflow">return</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r0">step</a>;
00159         }
00160 
<a name="l00161"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#a2">00161</a>         <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#a2">setStep</a>(<a class="code" href="classikayaki_1_1_measurement_step.html">MeasurementStep</a> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r0">step</a>) {
00162             <span class="keyword">this</span>.step = step;
00163             fireTableDataChanged();
00164         }
00165 
<a name="l00166"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#a3">00166</a>         <span class="keyword">public</span> <span class="keywordtype">int</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#a3">getRowCount</a>() {
00167 
00168             <span class="comment">// calculate the expected number of results based on measurement rotations and project type</span>
00169             <span class="keywordtype">int</span> nonSample = 3;
00170             <span class="keywordflow">if</span> (<a class="code" href="classikayaki_1_1_settings.html">Settings</a>.getHolderCalibration() == <a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a>
00171                     || (<a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r0">step</a> != <a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a> &amp;&amp; <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r0">step</a>.<a class="code" href="classikayaki_1_1_measurement_step.html#a6">getProject</a>().isHolderCalibration())) {
00172                 nonSample--;
00173             }
00174             <span class="keywordtype">int</span> expected = Math.max(1, 4 * <a class="code" href="classikayaki_1_1_settings.html">Settings</a>.getMeasurementRotations()) + nonSample;
00175 
00176             <span class="keywordflow">if</span> (<a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r0">step</a> == <a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a>) {
00177                 <span class="keywordflow">return</span> expected;
00178 
00179             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r0">step</a>.<a class="code" href="classikayaki_1_1_measurement_step.html#a7">getState</a>() == <a class="code" href="classikayaki_1_1_measurement_step.html">MeasurementStep</a>.State.DONE
00180                     || <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r0">step</a>.<a class="code" href="classikayaki_1_1_measurement_step.html#a7">getState</a>() == <a class="code" href="classikayaki_1_1_measurement_step.html">MeasurementStep</a>.State.DONE_RECENTLY) {
00181                 <span class="keywordflow">return</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r0">step</a>.<a class="code" href="classikayaki_1_1_measurement_step.html#a17">getResults</a>();
00182 
00183             } <span class="keywordflow">else</span> {
00184                 <span class="comment">// try to estimate the number of steps</span>
00185                 <span class="keywordtype">int</span> count = <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r0">step</a>.<a class="code" href="classikayaki_1_1_measurement_step.html#a17">getResults</a>();
00186 
00187                 <span class="comment">// if the last step is not BG, there are more steps coming</span>
00188                 <span class="keywordflow">if</span> (count &gt;= nonSample &amp;&amp; <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r0">step</a>.<a class="code" href="classikayaki_1_1_measurement_step.html#a18">getResult</a>(count - 1).getType() != <a class="code" href="classikayaki_1_1_measurement_result.html">MeasurementResult</a>.Type.NOISE) {
00189                     count++;
00190                 }
00191                 <span class="keywordflow">return</span> Math.max(expected, count);
00192             }
00193         }
00194 
<a name="l00195"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#a4">00195</a>         <span class="keyword">public</span> <span class="keywordtype">int</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#a4">getColumnCount</a>() {
00196             <span class="keywordflow">return</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r1">COLUMNS</a>.length;
00197         }
00198 
<a name="l00199"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#a5">00199</a>         @Override <span class="keyword">public</span> String <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#a5">getColumnName</a>(<span class="keywordtype">int</span> column) {
00200             <span class="keywordflow">return</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r1">COLUMNS</a>[column];
00201         }
00202 
<a name="l00203"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#a6">00203</a>         @Override <span class="keyword">public</span> Class&lt;?&gt; <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#a6">getColumnClass</a>(<span class="keywordtype">int</span> columnIndex) {
00204             <span class="keywordflow">return</span> <a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html">StyledWrapper</a>.class;
00205         }
00206 
<a name="l00207"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#a7">00207</a>         <span class="keyword">public</span> Object <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#a7">getValueAt</a>(<span class="keywordtype">int</span> <a class="code" href="namespaceikayaki_1_1gui.html#a26a0">rowIndex</a>, <span class="keywordtype">int</span> columnIndex) {
00208             Object <a class="code" href="namespaceikayaki_1_1gui.html#a26a3">value</a>;
00209             <span class="keywordflow">if</span> (<a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r0">step</a> != <a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a> &amp;&amp; rowIndex &lt; <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r0">step</a>.<a class="code" href="classikayaki_1_1_measurement_step.html#a17">getResults</a>()) {
00210 
00211                 <span class="comment">// get the values from the step</span>
00212                 <span class="keywordflow">switch</span> (columnIndex) {
00213                 <span class="keywordflow">case</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r2">HEADER_COLUMN</a>:
00214                     <span class="keywordflow">switch</span> (<a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r0">step</a>.<a class="code" href="classikayaki_1_1_measurement_step.html#a18">getResult</a>(rowIndex).getType()) {
00215                     <span class="keywordflow">case</span> HOLDER:
00216                         value = <span class="stringliteral">"Holder"</span>;
00217                         <span class="keywordflow">break</span>;
00218                     <span class="keywordflow">case</span> NOISE:
00219                         value = <span class="stringliteral">"BG"</span>;
00220                         <span class="keywordflow">break</span>;
00221                     <span class="keywordflow">case</span> SAMPLE:
00222                         value = Integer.toString(<a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r0">step</a>.<a class="code" href="classikayaki_1_1_measurement_step.html#a18">getResult</a>(rowIndex).getRotation());
00223                         <span class="keywordflow">break</span>;
00224                     <span class="keywordflow">default</span>:
00225                         assert <span class="keyword">false</span>;
00226                         value = <a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a>;
00227                         <span class="keywordflow">break</span>;
00228                     }
00229                     <span class="keywordflow">break</span>;
00230                 <span class="keywordflow">case</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r3">X_COLUMN</a>:
00231                     value = <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r6">numberFormat</a>.format(<a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r0">step</a>.<a class="code" href="classikayaki_1_1_measurement_step.html#a18">getResult</a>(rowIndex).getRawX());
00232                     <span class="keywordflow">break</span>;
00233                 <span class="keywordflow">case</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r4">Y_COLUMN</a>:
00234                     value = <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r6">numberFormat</a>.format(<a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r0">step</a>.<a class="code" href="classikayaki_1_1_measurement_step.html#a18">getResult</a>(rowIndex).getRawY());
00235                     <span class="keywordflow">break</span>;
00236                 <span class="keywordflow">case</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r5">Z_COLUMN</a>:
00237                     value = <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r6">numberFormat</a>.format(<a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r0">step</a>.<a class="code" href="classikayaki_1_1_measurement_step.html#a18">getResult</a>(rowIndex).getRawZ());
00238                     <span class="keywordflow">break</span>;
00239                 <span class="keywordflow">default</span>:
00240                     assert <span class="keyword">false</span>;
00241                     value = <a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a>;
00242                     <span class="keywordflow">break</span>;
00243                 }
00244 
00245             } <span class="keywordflow">else</span> {
00246 
00247                 <span class="comment">// try to guess the values</span>
00248                 <span class="keywordflow">if</span> (columnIndex == <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r2">HEADER_COLUMN</a>) {
00249                     <span class="keywordtype">int</span> i = (<a class="code" href="classikayaki_1_1_settings.html">Settings</a>.getHolderCalibration() == <a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a>
00250                             || (<a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r0">step</a> != <a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a> &amp;&amp; <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r0">step</a>.<a class="code" href="classikayaki_1_1_measurement_step.html#a6">getProject</a>().isHolderCalibration()))
00251                             ? rowIndex + 1
00252                             : rowIndex;
00253 
00254                     <span class="keywordflow">if</span> (i == 0) {
00255                         value = <span class="stringliteral">"Holder"</span>;
00256                     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i == 1 || rowIndex == <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#a3">getRowCount</a>() - 1) {
00257                         value = <span class="stringliteral">"BG"</span>;
00258                     } <span class="keywordflow">else</span> {
00259                         <span class="keywordflow">switch</span> ((i - 2) % 4) {
00260                         <span class="keywordflow">case</span> 0:
00261                             value = <span class="stringliteral">"0"</span>;
00262                             <span class="keywordflow">break</span>;
00263                         <span class="keywordflow">case</span> 1:
00264                             value = <span class="stringliteral">"90"</span>;
00265                             <span class="keywordflow">break</span>;
00266                         <span class="keywordflow">case</span> 2:
00267                             value = <span class="stringliteral">"180"</span>;
00268                             <span class="keywordflow">break</span>;
00269                         <span class="keywordflow">case</span> 3:
00270                             value = <span class="stringliteral">"270"</span>;
00271                             <span class="keywordflow">break</span>;
00272                         <span class="keywordflow">default</span>:
00273                             assert <span class="keyword">false</span>;
00274                             value = <a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a>;
00275                             <span class="keywordflow">break</span>;
00276                         }
00277                     }
00278                 } <span class="keywordflow">else</span> {
00279                     value = <a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a>;
00280                 }
00281             }
00282             <span class="keywordflow">return</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#a8">wrap</a>(value, rowIndex, columnIndex);
00283         }
00284 
<a name="l00285"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#a8">00285</a>         <span class="keyword">public</span> <a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html">StyledWrapper</a> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#a8">wrap</a>(Object <a class="code" href="namespaceikayaki_1_1gui.html#a26a3">value</a>, <span class="keywordtype">int</span> <a class="code" href="namespaceikayaki_1_1gui.html#a26a0">rowIndex</a>, <span class="keywordtype">int</span> columnIndex) {
00286             <a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html">StyledWrapper</a> wrapper;
00287 
00288             <span class="comment">// choose the style according to the column</span>
00289             <span class="keywordflow">if</span> (columnIndex == <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r2">HEADER_COLUMN</a>) {
00290                 wrapper = <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r8">headerWrapper</a>;
00291             } <span class="keywordflow">else</span> {
00292                 wrapper = <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_details_table_model.html#r7">defaultWrapper</a>;
00293             }
00294 
00295             <span class="comment">// wrap the cell's value and return it</span>
00296             wrapper.<a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html#o0">value</a> = value;
00297             <span class="keywordflow">return</span> wrapper;
00298         }
00299     }
00300 
<a name="l00306"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html">00306</a>     <span class="keyword">private</span> <span class="keyword">class </span><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html">ErrorsTableModel</a> <span class="keyword">extends</span> AbstractTableModel {
00307 
<a name="l00308"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r0">00308</a>         <span class="keyword">private</span> <a class="code" href="classikayaki_1_1_measurement_step.html">MeasurementStep</a> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r0">step</a>;
00309 
<a name="l00310"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r1">00310</a>         <span class="keyword">private</span> <span class="keyword">final</span> String[] <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r1">COLUMNS</a> = <span class="keyword">new</span> String[]{<span class="stringliteral">" "</span>, <span class="stringliteral">"Signal/Noise"</span>, <span class="stringliteral">"Signal/Drift"</span>, <span class="stringliteral">"Signal/Holder"</span>};
<a name="l00311"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r2">00311</a>         <span class="keyword">private</span> <span class="keyword">final</span> <span class="keywordtype">int</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r2">HEADER_COLUMN</a> = 0;
<a name="l00312"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r3">00312</a>         <span class="keyword">private</span> <span class="keyword">final</span> <span class="keywordtype">int</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r3">SIGNAL_NOISE_COLUMN</a> = 1;
<a name="l00313"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r4">00313</a>         <span class="keyword">private</span> <span class="keyword">final</span> <span class="keywordtype">int</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r4">SIGNAL_DRIFT_COLUMN</a> = 2;
<a name="l00314"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r5">00314</a>         <span class="keyword">private</span> <span class="keyword">final</span> <span class="keywordtype">int</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r5">SIGNAL_HOLDER_COLUMN</a> = 3;
00315 
<a name="l00316"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r6">00316</a>         <span class="keyword">private</span> <a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html">StyledWrapper</a> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r6">defaultWrapper</a> = <span class="keyword">new</span> <a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html">StyledWrapper</a>();
<a name="l00317"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r7">00317</a>         <span class="keyword">private</span> <a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html">StyledWrapper</a> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r7">headerWrapper</a> = <span class="keyword">new</span> <a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html">StyledWrapper</a>();
<a name="l00318"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r8">00318</a>         <span class="keyword">private</span> DecimalFormat <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r8">numberFormat</a> = <span class="keyword">new</span> DecimalFormat();
00319 
<a name="l00320"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#a0">00320</a>         <span class="keyword">public</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#a0">ErrorsTableModel</a>() {
00321             <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r6">defaultWrapper</a>.<a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html#o1">horizontalAlignment</a> = SwingConstants.TRAILING;
00322             <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r7">headerWrapper</a>.<a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html#o1">horizontalAlignment</a> = SwingConstants.TRAILING;
00323             <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r7">headerWrapper</a>.<a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html#o13">font</a> = <span class="keyword">new</span> JLabel(<span class="stringliteral">""</span>).getFont().deriveFont(Font.BOLD);
00324             <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r8">numberFormat</a>.setMinimumFractionDigits(3);
00325             <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r8">numberFormat</a>.setMaximumFractionDigits(3);
00326         }
00327 
<a name="l00328"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#a1">00328</a>         <span class="keyword">public</span> <a class="code" href="classikayaki_1_1_measurement_step.html">MeasurementStep</a> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#a1">getStep</a>() {
00329             <span class="keywordflow">return</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r0">step</a>;
00330         }
00331 
<a name="l00332"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#a2">00332</a>         <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#a2">setStep</a>(<a class="code" href="classikayaki_1_1_measurement_step.html">MeasurementStep</a> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r0">step</a>) {
00333             <span class="keyword">this</span>.step = step;
00334             fireTableDataChanged();
00335         }
00336 
<a name="l00337"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#a3">00337</a>         <span class="keyword">public</span> <span class="keywordtype">int</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#a3">getRowCount</a>() {
00338             <span class="keywordflow">return</span> 1;
00339         }
00340 
<a name="l00341"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#a4">00341</a>         <span class="keyword">public</span> <span class="keywordtype">int</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#a4">getColumnCount</a>() {
00342             <span class="keywordflow">return</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r1">COLUMNS</a>.length;
00343         }
00344 
<a name="l00345"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#a5">00345</a>         @Override <span class="keyword">public</span> String <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#a5">getColumnName</a>(<span class="keywordtype">int</span> column) {
00346             <span class="keywordflow">return</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r1">COLUMNS</a>[column];
00347         }
00348 
<a name="l00349"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#a6">00349</a>         @Override <span class="keyword">public</span> Class&lt;?&gt; <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#a6">getColumnClass</a>(<span class="keywordtype">int</span> columnIndex) {
00350             <span class="keywordflow">return</span> <a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html">StyledWrapper</a>.class;
00351         }
00352 
<a name="l00353"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#a7">00353</a>         <span class="keyword">public</span> Object <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#a7">getValueAt</a>(<span class="keywordtype">int</span> <a class="code" href="namespaceikayaki_1_1gui.html#a26a0">rowIndex</a>, <span class="keywordtype">int</span> columnIndex) {
00354             Object <a class="code" href="namespaceikayaki_1_1gui.html#a26a3">value</a>;
00355             <span class="keywordflow">switch</span> (columnIndex) {
00356             <span class="keywordflow">case</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r2">HEADER_COLUMN</a>:
00357                 value = <span class="stringliteral">"Error"</span>;
00358                 <span class="keywordflow">break</span>;
00359             <span class="keywordflow">case</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r3">SIGNAL_NOISE_COLUMN</a>:
00360                 value = MeasurementValue.SIGNAL_TO_NOISE.getValue(<a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r0">step</a>);
00361                 <span class="keywordflow">break</span>;
00362             <span class="keywordflow">case</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r4">SIGNAL_DRIFT_COLUMN</a>:
00363                 value = MeasurementValue.SIGNAL_TO_DRIFT.getValue(step);
00364                 <span class="keywordflow">break</span>;
00365             <span class="keywordflow">case</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r5">SIGNAL_HOLDER_COLUMN</a>:
00366                 value = MeasurementValue.SIGNAL_TO_HOLDER.getValue(step);
00367                 <span class="keywordflow">break</span>;
00368             <span class="keywordflow">default</span>:
00369                 value = <a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a>;
00370                 <span class="keywordflow">break</span>;
00371             }
00372 
00373             <span class="keywordflow">if</span> (value != <a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a> &amp;&amp; value instanceof Number) {
00374                 value = <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r8">numberFormat</a>.format(((Number) value).doubleValue());
00375             }
00376             <span class="keywordflow">return</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#a8">wrap</a>(value, rowIndex, columnIndex);
00377         }
00378 
<a name="l00379"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#a8">00379</a>         <span class="keyword">public</span> <a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html">StyledWrapper</a> <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#a8">wrap</a>(Object <a class="code" href="namespaceikayaki_1_1gui.html#a26a3">value</a>, <span class="keywordtype">int</span> <a class="code" href="namespaceikayaki_1_1gui.html#a26a0">rowIndex</a>, <span class="keywordtype">int</span> columnIndex) {
00380             <a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html">StyledWrapper</a> wrapper;
00381 
00382             <span class="comment">// choose the style according to the column</span>
00383             <span class="keywordflow">if</span> (columnIndex == <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r2">HEADER_COLUMN</a>) {
00384                 wrapper = <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r7">headerWrapper</a>;
00385             } <span class="keywordflow">else</span> {
00386                 wrapper = <a class="code" href="classikayaki_1_1gui_1_1_measurement_details_panel_1_1_errors_table_model.html#r6">defaultWrapper</a>;
00387             }
00388 
00389             <span class="comment">// wrap the cell's value and return it</span>
00390             wrapper.<a class="code" href="classikayaki_1_1gui_1_1_styled_wrapper.html#o0">value</a> = value;
00391             <span class="keywordflow">return</span> wrapper;
00392         }
00393     }
00394 }
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed May 4 13:11:04 2005 for Squid by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
