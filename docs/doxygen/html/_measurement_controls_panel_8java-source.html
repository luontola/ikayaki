<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Squid: My Documents/squid/src/ikayaki/gui/MeasurementControlsPanel.java Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Packages</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">My Documents</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">squid</a>&nbsp;/&nbsp;<a class="el" href="dir_000002.html">src</a>&nbsp;/&nbsp;<a class="el" href="dir_000003.html">ikayaki</a>&nbsp;/&nbsp;<a class="el" href="dir_000004.html">gui</a></div>
<h1>MeasurementControlsPanel.java</h1><a href="_measurement_controls_panel_8java.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/*</span>
00002 <span class="comment"> * MeasurementControlsPanel.java</span>
00003 <span class="comment"> *</span>
00004 <span class="comment"> * Copyright (C) 2005 Project SQUID, http://www.cs.helsinki.fi/group/squid/</span>
00005 <span class="comment"> *</span>
00006 <span class="comment"> * This file is part of Ikayaki.</span>
00007 <span class="comment"> *</span>
00008 <span class="comment"> * Ikayaki is free software; you can redistribute it and/or modify</span>
00009 <span class="comment"> * it under the terms of the GNU General Public License as published by</span>
00010 <span class="comment"> * the Free Software Foundation; either version 2 of the License, or</span>
00011 <span class="comment"> * (at your option) any later version.</span>
00012 <span class="comment"> *</span>
00013 <span class="comment"> * Ikayaki is distributed in the hope that it will be useful,</span>
00014 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00015 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>
00016 <span class="comment"> * GNU General Public License for more details.</span>
00017 <span class="comment"> *</span>
00018 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
00019 <span class="comment"> * along with Ikayaki; if not, write to the Free Software</span>
00020 <span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA</span>
00021 <span class="comment"> */</span>
00022 
00023 <span class="keyword">package </span>ikayaki.gui;
00024 
00025 <span class="keyword">import</span> ikayaki.MeasurementEvent;
00026 <span class="keyword">import</span> ikayaki.Project;
00027 <span class="keyword">import</span> ikayaki.ProjectEvent;
00028 
00029 <span class="keyword">import</span> javax.swing.*;
00030 <span class="keyword">import</span> java.awt.*;
00031 <span class="keyword">import</span> java.awt.event.ActionEvent;
00032 <span class="keyword">import</span> java.awt.event.ActionListener;
00033 <span class="keyword">import</span> java.awt.event.KeyEvent;
00034 
<a name="l00044"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html">00044</a> <span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html">MeasurementControlsPanel</a> <span class="keyword">extends</span> <a class="code" href="classikayaki_1_1gui_1_1_project_component.html">ProjectComponent</a> {
00045 
<a name="l00046"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r0">00046</a>     <span class="keyword">private</span> <span class="keyword">final</span> JButton <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r0">measureButton</a>;
<a name="l00047"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r1">00047</a>     <span class="keyword">private</span> <span class="keyword">final</span> JButton <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r1">pauseButton</a>;
<a name="l00048"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r2">00048</a>     <span class="keyword">private</span> <span class="keyword">final</span> JButton <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r2">stepButton</a>;
<a name="l00049"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r3">00049</a>     <span class="keyword">private</span> <span class="keyword">final</span> JButton <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r3">abortButton</a>;
00050 
00051     <span class="comment">// error-flashers for buttons</span>
<a name="l00052"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r4">00052</a>     <span class="keyword">private</span> <span class="keyword">final</span> <a class="code" href="classikayaki_1_1gui_1_1_component_flasher.html">ComponentFlasher</a> <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r4">measureButtonFlasher</a>;
<a name="l00053"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r5">00053</a>     <span class="keyword">private</span> <span class="keyword">final</span> <a class="code" href="classikayaki_1_1gui_1_1_component_flasher.html">ComponentFlasher</a> <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r5">pauseButtonFlasher</a>;
<a name="l00054"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r6">00054</a>     <span class="keyword">private</span> <span class="keyword">final</span> <a class="code" href="classikayaki_1_1gui_1_1_component_flasher.html">ComponentFlasher</a> <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r6">stepButtonFlasher</a>;
<a name="l00055"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r7">00055</a>     <span class="keyword">private</span> <span class="keyword">final</span> <a class="code" href="classikayaki_1_1gui_1_1_component_flasher.html">ComponentFlasher</a> <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r7">abortButtonFlasher</a>;
00056 
<a name="l00060"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r8">00060</a>     <span class="keyword">private</span> <span class="keyword">final</span> ButtonGroup <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r8">zButtonGroup</a>;
<a name="l00061"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r9">00061</a>     <span class="keyword">private</span> <span class="keyword">final</span> JRadioButton <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r9">zPlusRadioButton</a>;
<a name="l00062"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r10">00062</a>     <span class="keyword">private</span> <span class="keyword">final</span> JRadioButton <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r10">zMinusRadioButton</a>;
00063 
<a name="l00067"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r11">00067</a>     <span class="keyword">private</span> <span class="keyword">final</span> JPanel <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r11">sampleInsertPanel</a>;
<a name="l00068"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r12">00068</a>     <span class="keyword">private</span> <span class="keyword">final</span> JLabel <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r12">sampleInsertTextLabel</a>;
<a name="l00069"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r13">00069</a>     <span class="keyword">private</span> <span class="keyword">final</span> Icon <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r13">sampleInsertZPlusIcon</a>;
<a name="l00070"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r14">00070</a>     <span class="keyword">private</span> <span class="keyword">final</span> Icon <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r14">sampleInsertZMinusIcon</a>;
<a name="l00071"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r15">00071</a>     <span class="keyword">private</span> <span class="keyword">final</span> JLabel <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r15">sampleInsertIconLabel</a>;
00072 
<a name="l00076"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r16">00076</a>     <span class="keyword">private</span> <span class="keyword">final</span> <a class="code" href="classikayaki_1_1gui_1_1_magnetometer_status_panel.html">MagnetometerStatusPanel</a>.ManualControlsPanel <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r16">manualControlsPanel</a>;
00077 
<a name="l00081"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r17">00081</a>     <span class="keyword">private</span> <span class="keyword">final</span> <a class="code" href="classikayaki_1_1gui_1_1_magnetometer_status_panel.html">MagnetometerStatusPanel</a> <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r17">magnetometerStatusPanel</a>;
00082 
00083     <span class="comment">/* Swing Actions */</span>
<a name="l00084"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r18">00084</a>     <span class="keyword">private</span> Action <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r18">autoStepAction</a>;
<a name="l00085"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r19">00085</a>     <span class="keyword">private</span> Action <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r19">singleStepAction</a>;
<a name="l00086"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r20">00086</a>     <span class="keyword">private</span> Action <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r20">calibrateAction</a>;
<a name="l00087"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r21">00087</a>     <span class="keyword">private</span> Action <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r21">pauseAction</a>;
<a name="l00088"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r22">00088</a>     <span class="keyword">private</span> Action <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r22">abortAction</a>;
00089 
<a name="l00090"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#a0">00090</a>     <span class="keyword">public</span> <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#a0">MeasurementControlsPanel</a>() {
00091 
00092         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r0">measureButton</a> = <span class="keyword">new</span> JButton(<a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#a4">getAutoStepAction</a>());
00093         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r1">pauseButton</a> = <span class="keyword">new</span> JButton(<a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#a7">getPauseAction</a>());
00094         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r2">stepButton</a> = <span class="keyword">new</span> JButton(<a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#a5">getSingleStepAction</a>());
00095         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r3">abortButton</a> = <span class="keyword">new</span> JButton(<a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#a8">getAbortAction</a>());
00096 
00097         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r4">measureButtonFlasher</a> = <span class="keyword">new</span> <a class="code" href="classikayaki_1_1gui_1_1_component_flasher.html">ComponentFlasher</a>(<a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r0">measureButton</a>);
00098         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r5">pauseButtonFlasher</a> = <span class="keyword">new</span> <a class="code" href="classikayaki_1_1gui_1_1_component_flasher.html">ComponentFlasher</a>(<a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r1">pauseButton</a>);
00099         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r6">stepButtonFlasher</a> = <span class="keyword">new</span> <a class="code" href="classikayaki_1_1gui_1_1_component_flasher.html">ComponentFlasher</a>(<a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r2">stepButton</a>);
00100         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r7">abortButtonFlasher</a> = <span class="keyword">new</span> <a class="code" href="classikayaki_1_1gui_1_1_component_flasher.html">ComponentFlasher</a>(<a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r3">abortButton</a>);
00101 
00102         JPanel buttonPanel = <span class="keyword">new</span> JPanel(<span class="keyword">new</span> GridLayout(2, 2, 2, 2)); <span class="comment">// prevents button resize, looks a bit ugly</span>
00103         buttonPanel.add(<a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r0">measureButton</a>);
00104         buttonPanel.add(<a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r2">stepButton</a>);
00105         buttonPanel.add(<a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r1">pauseButton</a>);
00106         buttonPanel.add(<a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r3">abortButton</a>);
00107 
00108         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r8">zButtonGroup</a> = <span class="keyword">new</span> ButtonGroup();
00109         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r9">zPlusRadioButton</a> = <span class="keyword">new</span> JRadioButton(<span class="stringliteral">"+Z"</span>);
00110         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r10">zMinusRadioButton</a> = <span class="keyword">new</span> JRadioButton(<span class="stringliteral">"-Z"</span>);
00111         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r8">zButtonGroup</a>.add(<a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r9">zPlusRadioButton</a>);
00112         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r8">zButtonGroup</a>.add(<a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r10">zMinusRadioButton</a>);
00113 
00114         JPanel zButtonPanel = <span class="keyword">new</span> JPanel(<span class="keyword">new</span> FlowLayout(FlowLayout.CENTER, 8, 0));
00115         zButtonPanel.add(<a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r9">zPlusRadioButton</a>);
00116         zButtonPanel.add(zMinusRadioButton);
00117 
00118         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r12">sampleInsertTextLabel</a> = <span class="keyword">new</span> JLabel(<span class="stringliteral">"Put sample in holder arrow up."</span>);
00119         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r13">sampleInsertZPlusIcon</a> = <span class="keyword">new</span> ImageIcon(ClassLoader.getSystemResource(<span class="stringliteral">"resources/zplus.png"</span>));
00120         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r14">sampleInsertZMinusIcon</a> = <span class="keyword">new</span> ImageIcon(ClassLoader.getSystemResource(<span class="stringliteral">"resources/zminus.png"</span>));
00121         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r15">sampleInsertIconLabel</a> = <span class="keyword">new</span> JLabel();
00122 
00123         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r11">sampleInsertPanel</a> = <span class="keyword">new</span> JPanel(<span class="keyword">new</span> BorderLayout(4, 4));
00124         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r11">sampleInsertPanel</a>.add(<a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r12">sampleInsertTextLabel</a>, BorderLayout.NORTH);
00125         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r11">sampleInsertPanel</a>.add(zButtonPanel, BorderLayout.CENTER);
00126         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r11">sampleInsertPanel</a>.add(<a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r15">sampleInsertIconLabel</a>, BorderLayout.SOUTH);
00127 
00128         JPanel topPanel = <span class="keyword">new</span> JPanel(<span class="keyword">new</span> BorderLayout(0, 8));
00129         topPanel.add(buttonPanel, BorderLayout.CENTER);
00130         topPanel.add(<a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r11">sampleInsertPanel</a>, BorderLayout.SOUTH);
00131 
00132         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r17">magnetometerStatusPanel</a> = <span class="keyword">new</span> <a class="code" href="classikayaki_1_1gui_1_1_magnetometer_status_panel.html">MagnetometerStatusPanel</a>();
00133         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r16">manualControlsPanel</a> = <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r17">magnetometerStatusPanel</a>.<a class="code" href="classikayaki_1_1gui_1_1_magnetometer_status_panel.html#q0">manualControlsPanel</a>;
00134 
00135         JPanel contentPane = <span class="keyword">new</span> JPanel(<span class="keyword">new</span> BorderLayout(0, 8));
00136         contentPane.setBorder(BorderFactory.createEmptyBorder(0, 4, 4, 4));
00137         contentPane.add(topPanel, BorderLayout.NORTH);
00138         contentPane.add(<a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r17">magnetometerStatusPanel</a>, BorderLayout.CENTER);
00139         contentPane.add(<a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r16">manualControlsPanel</a>, BorderLayout.SOUTH);
00140         <span class="keyword">this</span>.setLayout(<span class="keyword">new</span> BorderLayout());
00141         <span class="keyword">this</span>.add(contentPane);
00142 
00147         <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r9">zPlusRadioButton</a>.addActionListener(<span class="keyword">new</span> ActionListener() {
00148             <span class="keyword">public</span> <span class="keywordtype">void</span> actionPerformed(ActionEvent e) {
00149                 <a class="code" href="classikayaki_1_1gui_1_1_project_component.html#a1">getProject</a>().<a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#d0">setOrientation</a>(<a class="code" href="classikayaki_1_1_project.html">Project</a>.Orientation.PLUS_Z);
00150                 <a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r15">sampleInsertIconLabel</a>.setIcon(<a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#r13">sampleInsertZPlusIcon</a>);
00151             }
00152         });
00153         zMinusRadioButton.addActionListener(<span class="keyword">new</span> ActionListener() {
00154             <span class="keyword">public</span> <span class="keywordtype">void</span> actionPerformed(ActionEvent e) {
00155                 getProject().setOrientation(<a class="code" href="classikayaki_1_1_project.html">Project</a>.Orientation.MINUS_Z);
00156                 sampleInsertIconLabel.setIcon(sampleInsertZMinusIcon);
00157             }
00158         });
00159 
00160         <span class="comment">// initialize with no project</span>
00161         setProject(<a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a>);
00162     }
00163 
<a name="l00169"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#a1">00169</a>     @Override <span class="keyword">public</span> <span class="keywordtype">void</span> setProject(<a class="code" href="classikayaki_1_1_project.html">Project</a> <a class="code" href="namespaceikayaki_1_1gui.html#a26a1">project</a>) {
00170         super.setProject(project);
00171         updateActions();
00172         <span class="keywordflow">if</span> (project != <a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a>) {
00173             setOrientation(project.<a class="code" href="classikayaki_1_1_project.html#a25">getOrientation</a>());
00174             <span class="keywordflow">if</span> (project.<a class="code" href="classikayaki_1_1_project.html#a14">getSquid</a>() != <a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a>) {
00175                 magnetometerStatusPanel.setSquid(project.<a class="code" href="classikayaki_1_1_project.html#a14">getSquid</a>());
00176             }
00177         }
00178         manualControlsPanel.setProject(project);
00179     }
00180 
<a name="l00186"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#a2">00186</a>     @Override <span class="keyword">public</span> <span class="keywordtype">void</span> projectUpdated(<a class="code" href="classikayaki_1_1_project_event.html">ProjectEvent</a> event) {
00187         updateActions();
00188         manualControlsPanel.setEnabled();
00189     }
00190 
<a name="l00196"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#a3">00196</a>     @Override <span class="keyword">public</span> <span class="keywordtype">void</span> measurementUpdated(<a class="code" href="classikayaki_1_1_measurement_event.html">MeasurementEvent</a> event) {
00197         magnetometerStatusPanel.measurementUpdated(event);
00198     }
00199 
<a name="l00203"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#d0">00203</a>     <span class="keyword">private</span> <span class="keywordtype">void</span> setOrientation(<a class="code" href="classikayaki_1_1_project.html">Project</a>.Orientation orientation) {
00204         <span class="keywordflow">if</span> (orientation == <a class="code" href="classikayaki_1_1_project.html">Project</a>.Orientation.PLUS_Z) {
00205             zPlusRadioButton.setSelected(<span class="keyword">true</span>);
00206             sampleInsertIconLabel.setIcon(sampleInsertZPlusIcon);
00207         } <span class="keywordflow">else</span> {
00208             zMinusRadioButton.setSelected(<span class="keyword">true</span>);
00209             sampleInsertIconLabel.setIcon(sampleInsertZMinusIcon);
00210         }
00211     }
00212 
<a name="l00216"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#d1">00216</a>     <span class="keyword">private</span> <span class="keywordtype">void</span> updateActions() {
00217         <span class="keywordflow">if</span> (getProject() != <a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a>) {
00218             getAutoStepAction().setEnabled(getProject().isAutoStepEnabled());
00219             getSingleStepAction().setEnabled(getProject().isSingleStepEnabled());
00220             getCalibrateAction().setEnabled(getProject().isSingleStepEnabled()
00221                     &amp;&amp; getProject().getType() == <a class="code" href="classikayaki_1_1_project.html">Project</a>.Type.CALIBRATION);
00222             getPauseAction().setEnabled(getProject().isPauseEnabled());
00223             getAbortAction().setEnabled(getProject().isAbortEnabled());
00224 
00225             sampleInsertTextLabel.setEnabled(<span class="keyword">true</span>);
00226             sampleInsertIconLabel.setEnabled(<span class="keyword">true</span>);
00227             zPlusRadioButton.setEnabled(<span class="keyword">true</span>);
00228             zMinusRadioButton.setEnabled(<span class="keyword">true</span>);
00229         } <span class="keywordflow">else</span> {
00230             getAutoStepAction().setEnabled(<span class="keyword">false</span>);
00231             getSingleStepAction().setEnabled(<span class="keyword">false</span>);
00232             getCalibrateAction().setEnabled(<span class="keyword">false</span>);
00233             getPauseAction().setEnabled(<span class="keyword">false</span>);
00234             getAbortAction().setEnabled(<span class="keyword">false</span>);
00235 
00236             sampleInsertTextLabel.setEnabled(<span class="keyword">false</span>);
00237             sampleInsertIconLabel.setEnabled(<span class="keyword">false</span>);
00238             zPlusRadioButton.setEnabled(<span class="keyword">false</span>);
00239             zMinusRadioButton.setEnabled(<span class="keyword">false</span>);
00240         }
00241     }
00242 
00243     <span class="comment">/* Getters for Swing Actions */</span>
00244 
<a name="l00249"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#a4">00249</a>     <span class="keyword">public</span> Action getAutoStepAction() {
00250         <span class="keywordflow">if</span> (autoStepAction == <a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a>) {
00251             autoStepAction = <span class="keyword">new</span> AbstractAction() {
00252                 <span class="keyword">public</span> <span class="keywordtype">void</span> actionPerformed(ActionEvent e) {
00253                     <span class="keywordflow">if</span> (!getProject().doAutoStep()) {
00254                         <span class="keywordflow">if</span> (e.getSource() == measureButton) {
00255                             measureButtonFlasher.flash();
00256                         } <span class="keywordflow">else</span> {
00257                             JOptionPane.showMessageDialog(getParentFrame(),
00258                                     <span class="stringliteral">"Unable to measure."</span>, <span class="stringliteral">"Squid Error"</span>, JOptionPane.ERROR_MESSAGE);
00259                         }
00260                     }
00261                 }
00262             };
00263             autoStepAction.putValue(Action.NAME, <span class="stringliteral">"Measure"</span>);
00264             <span class="comment">//autoStepAction.putValue(Action.MNEMONIC_KEY, KeyEvent.VK_M);</span>
00265             autoStepAction.putValue(Action.ACCELERATOR_KEY, KeyStroke.getKeyStroke(KeyEvent.VK_M, KeyEvent.CTRL_MASK));
00266             autoStepAction.putValue(Action.SMALL_ICON,
00267                     <span class="keyword">new</span> ImageIcon(ClassLoader.getSystemResource(<span class="stringliteral">"resources/play.png"</span>)));
00268         }
00269         <span class="keywordflow">return</span> autoStepAction;
00270     }
00271 
<a name="l00275"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#a5">00275</a>     <span class="keyword">public</span> Action getSingleStepAction() {
00276         <span class="keywordflow">if</span> (singleStepAction == <a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a>) {
00277             singleStepAction = <span class="keyword">new</span> AbstractAction() {
00278                 <span class="keyword">public</span> <span class="keywordtype">void</span> actionPerformed(ActionEvent e) {
00279                     <span class="keywordflow">if</span> (!getProject().doSingleStep()) {
00280                         <span class="keywordflow">if</span> (e.getSource() == stepButton) {
00281                             stepButtonFlasher.flash();
00282                         } <span class="keywordflow">else</span> {
00283                             JOptionPane.showMessageDialog(getParentFrame(),
00284                                     <span class="stringliteral">"Unable to single step."</span>, <span class="stringliteral">"Squid Error"</span>, JOptionPane.ERROR_MESSAGE);
00285                         }
00286                     }
00287                 }
00288             };
00289             singleStepAction.putValue(Action.NAME, <span class="stringliteral">"Single Step"</span>);
00290             <span class="comment">//singleStepAction.putValue(Action.MNEMONIC_KEY, KeyEvent.VK_I);</span>
00291             singleStepAction.putValue(Action.ACCELERATOR_KEY,
00292                     KeyStroke.getKeyStroke(KeyEvent.VK_I, KeyEvent.CTRL_MASK));
00293             singleStepAction.putValue(Action.SMALL_ICON,
00294                     <span class="keyword">new</span> ImageIcon(ClassLoader.getSystemResource(<span class="stringliteral">"resources/step.png"</span>)));
00295         }
00296         <span class="keywordflow">return</span> singleStepAction;
00297     }
00298 
<a name="l00299"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#a6">00299</a>     <span class="keyword">public</span> Action getCalibrateAction() {
00300         <span class="keywordflow">if</span> (calibrateAction == <a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a>) {
00301             calibrateAction = <span class="keyword">new</span> AbstractAction() {
00302                 <span class="keyword">public</span> <span class="keywordtype">void</span> actionPerformed(ActionEvent e) {
00303                     <span class="keywordflow">if</span> (!getProject().doSingleStep()) {
00304                         <span class="keywordflow">if</span> (e.getSource() instanceof JButton) {
00305                             <span class="keyword">new</span> <a class="code" href="classikayaki_1_1gui_1_1_component_flasher.html">ComponentFlasher</a>((JComponent) e.getSource()).flash();
00306                         } <span class="keywordflow">else</span> {
00307                             JOptionPane.showMessageDialog(getParentFrame(),
00308                                     <span class="stringliteral">"Unable to calibrate."</span>, <span class="stringliteral">"Squid Error"</span>, JOptionPane.ERROR_MESSAGE);
00309                         }
00310                     }
00311                 }
00312             };
00313             calibrateAction.putValue(Action.NAME, <span class="stringliteral">"Calibrate"</span>);
00314             <span class="comment">//calibrateAction.putValue(Action.MNEMONIC_KEY, KeyEvent.VK_I);</span>
00315             <span class="comment">//calibrateAction.putValue(Action.ACCELERATOR_KEY,</span>
00316             <span class="comment">//        KeyStroke.getKeyStroke(KeyEvent.VK_I, KeyEvent.CTRL_MASK));</span>
00317             calibrateAction.putValue(Action.SMALL_ICON,
00318                     <span class="keyword">new</span> ImageIcon(ClassLoader.getSystemResource(<span class="stringliteral">"resources/step.png"</span>)));
00319         }
00320         <span class="keywordflow">return</span> calibrateAction;
00321     }
00322 
<a name="l00323"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#a7">00323</a>     <span class="keyword">public</span> Action getPauseAction() {
00324         <span class="keywordflow">if</span> (pauseAction == <a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a>) {
00325             pauseAction = <span class="keyword">new</span> AbstractAction() {
00326                 <span class="keyword">public</span> <span class="keywordtype">void</span> actionPerformed(ActionEvent e) {
00327                     <span class="keywordflow">if</span> (!getProject().doPause()) {
00328                         <span class="keywordflow">if</span> (e.getSource() == pauseButton) {
00329                             pauseButtonFlasher.flash();
00330                         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e.getSource() == measureButton) {
00331                             measureButtonFlasher.flash();
00332                         } <span class="keywordflow">else</span> {
00333                             JOptionPane.showMessageDialog(getParentFrame(),
00334                                     <span class="stringliteral">"Unable to pause."</span>, <span class="stringliteral">"Squid Error"</span>, JOptionPane.ERROR_MESSAGE);
00335                         }
00336                     }
00337                 }
00338             };
00339             pauseAction.putValue(Action.NAME, <span class="stringliteral">"Pause"</span>);
00340             <span class="comment">//pauseAction.putValue(Action.MNEMONIC_KEY, KeyEvent.VK_P);</span>
00341             pauseAction.putValue(Action.ACCELERATOR_KEY, KeyStroke.getKeyStroke(KeyEvent.VK_P, KeyEvent.CTRL_MASK));
00342             pauseAction.putValue(Action.SMALL_ICON,
00343                     <span class="keyword">new</span> ImageIcon(ClassLoader.getSystemResource(<span class="stringliteral">"resources/pause.png"</span>)));
00344         }
00345         <span class="keywordflow">return</span> pauseAction;
00346     }
00347 
<a name="l00351"></a><a class="code" href="classikayaki_1_1gui_1_1_measurement_controls_panel.html#a8">00351</a>     <span class="keyword">public</span> Action getAbortAction() {
00352         <span class="keywordflow">if</span> (abortAction == <a class="code" href="namespaceikayaki_1_1gui.html#a26a2">null</a>) {
00353             abortAction = <span class="keyword">new</span> AbstractAction() {
00354                 <span class="keyword">public</span> <span class="keywordtype">void</span> actionPerformed(ActionEvent e) {
00355                     <span class="keywordflow">if</span> (!getProject().doAbort()) {
00356                         <span class="keywordflow">if</span> (e.getSource() == abortButton) {
00357                             abortButtonFlasher.flash();
00358                         } <span class="keywordflow">else</span> {
00359                             JOptionPane.showMessageDialog(getParentFrame(),
00360                                     <span class="stringliteral">"Unable to abort!"</span>, <span class="stringliteral">"Squid Error"</span>, JOptionPane.ERROR_MESSAGE);
00361                         }
00362                     }
00363                 }
00364             };
00365             abortAction.putValue(Action.NAME, <span class="stringliteral">"Stop Now!"</span>);
00366             <span class="comment">//abortAction.putValue(Action.MNEMONIC_KEY, KeyEvent.VK_T);</span>
00367             abortAction.putValue(Action.ACCELERATOR_KEY, KeyStroke.getKeyStroke(KeyEvent.VK_T, KeyEvent.CTRL_MASK));
00368             abortAction.putValue(Action.SMALL_ICON, <span class="keyword">new</span> ImageIcon(ClassLoader.getSystemResource(<span class="stringliteral">"resources/stop.png"</span>)));
00369         }
00370         <span class="keywordflow">return</span> abortAction;
00371     }
00372 }
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed May 4 13:11:04 2005 for Squid by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
